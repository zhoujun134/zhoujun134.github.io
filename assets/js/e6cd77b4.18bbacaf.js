"use strict";(self.webpackChunkmy_docus=self.webpackChunkmy_docus||[]).push([[6943],{75147:(e,n,t)=>{t.d(n,{A:()=>v});var o=t(96540);const a="commentsContainer_c8kT",s="commentItem_e5Ci",i="commentItemContent_nivu",c="commentTitle_QzY2",r="commentForm_VTSH",l="commentInput__Vux",d="inputGroup_JMK_",m="commentItemUp_PQkj",u="commentItemDown_DbcC",p="commentCreateTime_WnHy",h="inputFieldLeft_toZt",g="inputFieldRight_uXK8",f="commentButton_BTU5",x="noComments_iMLa",j="commentListContainer_D4E5";var b=t(67168);async function N(e){return await(0,b.A)({url:"/api/article/comment",method:"get",params:{articleId:e}}).then((e=>JSON.parse(JSON.stringify(e)))).catch((e=>{let{message:n}=e;return{code:"-1",message:"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u4e86\uff01\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"+n,data:[]}}))}var C=t(46423),y=t(29813),B=t(74848);const k=e=>{let{html:n}=e;return(0,B.jsx)("div",{dangerouslySetInnerHTML:{__html:n.replace(/\n/g,"<br />")}})},v=e=>{const[n,t]=(0,o.useState)([]),[v,_]=(0,o.useState)(""),[w,A]=(0,o.useState)(""),[I,L]=(0,o.useState)(""),[T,S]=(0,o.useState)("# \u6b22\u8fce\u7559\u4e0b\u60a8\u7684\u5b9d\u8d35\u8bc4\u8bba"),F=e=>{let{char:n,size:t=50,color:o="var(--zj-comment-author-font-color)",bgColor:a="var(--ifm-color-primary-light)"}=e;const s=.8*t;return(0,B.jsx)("svg",{width:t,height:t,viewBox:"0 0 100 100",style:{backgroundColor:a,borderRadius:"50%",display:"inline-block",verticalAlign:"middle",fontSize:s,fontWeight:"bold"},children:(0,B.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:o,children:n})})};(0,o.useEffect)((()=>{D().then((e=>{}))}),[]),(0,o.useEffect)((()=>{""===v&&(S("# \u6b22\u8fce\u7559\u4e0b\u60a8\u7684\u5b9d\u8d35\u8bc4\u8bba"),O(""),P(""))}),[v]);const D=async()=>{const n=await N(e.articleId);n&&n.data&&t(n.data)},E=async n=>{if(n.preventDefault(),!w||!I)return void alert("\u7528\u6237\u540d\u548c\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a\uff01");const o={articleId:e.articleId,articleTitle:e.articleTitle,author:w,email:I,content:v,parentCommentId:W,replyCommentId:G};await async function(e){return await(0,b.A)({url:"/api/article/comment/submit",method:"post",data:e}).then((e=>JSON.parse(JSON.stringify(e)))).catch((e=>{let{message:n}=e;return{code:"-1",message:"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u4e86\uff01\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"+n,data:!1}}))}(o).then((e=>{}));const a=await N(e.articleId);if(a){const e=a.data;t(e),_(""),A(""),L(""),O(""),P(""),S("# \u6b22\u8fce\u7559\u4e0b\u60a8\u7684\u5b9d\u8d35\u8bc4\u8bba")}},[W,P]=(0,o.useState)(null),[G,O]=(0,o.useState)(null),z=(e,n)=>(0,B.jsxs)("li",{className:s,children:[(0,B.jsxs)("div",{className:m,children:[(0,B.jsx)(F,{char:e.author[0]}),(0,B.jsx)("p",{className:i,children:(0,B.jsx)(k,{html:e.content})})]}),(0,B.jsxs)("div",{className:u,children:[(0,B.jsx)("p",{className:p,children:e.createTime}),(0,B.jsx)("a",{href:"#submitCommentForm",onClick:t=>((e,n,t)=>{e.preventDefault(),console.log("\u6765\u6e90: commentId=",JSON.stringify(n)," parentCommentId=",t),P(t),O(n.commentId),_(w+" \u56de\u590d "+n.author+": "),S("# \u56de\u590d "+n.author+" \u7684\u8bc4\u8bba "),window.location.href.endsWith("#submitCommentForm")?window.location.href=window.location.href+"":window.location.href+="#submitCommentForm"})(t,e,n),children:"\u56de\u590d"})]}),e.children&&e.children.length>0?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{className:j,children:(0,B.jsx)("ul",{children:e.children.map((e=>z(e,n)))})})}):(0,B.jsx)(B.Fragment,{children:" "})]},e.commentId),H={title:"\u5173\u4e8e\u60a8\u63d0\u4ea4\u7684\u8bc4\u8bba",type:"info",icon:"\ud83d\udd79",description:(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("p",{children:"\u60a8\u63d0\u4ea4\u7684\u8bc4\u8bba\uff0c\u4f5c\u8005\u5c06\u4f1a\u6536\u5230\u901a\u77e5\uff0c\u5728\u5ba1\u6838\u4e4b\u540e\uff0c\u5c06\u4f1a\u5c55\u793a\u5728\u8bc4\u8bba\u5217\u8868\u4e2d\u3002"})})};return(0,B.jsx)(y.A,{fallback:(0,B.jsx)("div",{children:"Loading Comments..."}),children:()=>(0,B.jsxs)("div",{className:a,children:[(0,B.jsx)("h2",{children:"# \u8bc4\u8bba\u5217\u8868"}),n.length>0?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{className:j,children:(0,B.jsx)("ul",{children:n.map((e=>z(e,e.commentId)))})})}):(0,B.jsx)("p",{className:x,children:"\u5f53\u524d\u6682\u65e0\u8bc4\u8bba, \u6b22\u8fce\u5927\u4f6c\u901a\u8fc7\u4e0b\u9762\u7684\u8868\u5355\u7559\u4e0b\u60a8\u7684\u8db3\u8ff9\u3002\u2764\ufe0f\ud83c\udf77\ud83c\udf6d\u2705\ud83d\udcaf"}),(0,B.jsx)(C.A,{...H}),(0,B.jsx)("div",{className:a,children:(0,B.jsxs)("form",{id:"submitCommentForm",onSubmit:E,className:r,children:[(0,B.jsx)("div",{className:c,children:(0,B.jsx)("h2",{children:T})}),(0,B.jsxs)("div",{className:d,children:[(0,B.jsx)("input",{type:"text",value:w,onChange:e=>A(e.target.value),placeholder:"\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d",className:h,required:!0}),(0,B.jsx)("input",{type:"email",value:I,onChange:e=>L(e.target.value),placeholder:"\u8f93\u5165\u4f60\u7684\u90ae\u7bb1",className:g,required:!0})]}),(0,B.jsx)("div",{className:d,children:(0,B.jsx)("textarea",{value:v,onChange:e=>_(e.target.value),placeholder:"\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba...",className:l,rows:5,required:!0})}),(0,B.jsx)("div",{className:d,children:(0,B.jsx)("button",{type:"submit",className:f,children:"\u63d0\u4ea4\u8bc4\u8bba"})}),e.noticeCardBeforeSumitForm?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(C.A,{...e.noticeCardBeforeSumitForm})}):(0,B.jsx)(B.Fragment,{})]})})]})})}},46423:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(19581);const a={noticeCardContainer:"noticeCardContainer_M8qB"};var s=t(74848);function i(e){return(0,s.jsx)("div",{className:a.noticeCardContainer,children:(0,s.jsx)(o.A,{type:e.type,icon:e.icon,title:e.title,children:e.description})})}},1627:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B,getFriendsFromService:()=>C});var o=t(20269),a=t(57270),s=t(96540),i=t(95688);const c={friendContainer:"friendContainer_a6iP",friendList:"friendList_BcXk",dragBox:"dragBox_zx3N",siteInfo:"siteInfo_eYy8",codeBlock:"codeBlock_cKnR"};var r=t(14783);const l={friendCard:"friendCard_Hi96",friendCardImage:"friendCardImage_w0EQ",friendCardHeader:"friendCardHeader_fnZH",friendCardTitle:"friendCardTitle_yzXu",friendCardBody:"friendCardBody_mRA7",friendCardDesc:"friendCardDesc_iKZL"};var d=t(32782),m=t(74848);const u=(0,s.memo)((e=>{let{friend:n}=e;return(0,m.jsxs)("li",{className:(0,d.cn)(l.friendCard,"padding-vert--sm padding-horiz--md"),children:[(0,m.jsx)("img",{src:"string"==typeof n.avatar?n.avatar:"/anonymous.png",alt:n.title,className:(0,d.cn)(l.friendCardImage)}),(0,m.jsxs)("div",{className:"card__body",children:[(0,m.jsx)("div",{className:(0,d.cn)(l.friendCardHeader),children:(0,m.jsx)("h4",{className:l.friendCardTitle,children:(0,m.jsx)(r.A,{to:n.website,className:l.friendCardLink,rel:"",children:n.title})})}),(0,m.jsx)("p",{className:l.friendCardDesc,children:n.description})]})]})}));var p=t(75147),h=t(67168);const g="\u53cb\u94fe",f="\u6709\u5f88\u591a\u826f\u53cb\uff0c\u80dc\u4e8e\u6709\u5f88\u591a\u8d22\u5bcc\u3002",x="#submitCommentForm",j="title: 'Z \u4e0d\u6b8a'\ndescription: '\u60f3\u8981\u62e5\u6709\u7684\u5fc5\u987b\u73b0\u5728\u5c31\u53bb\u505a'\nwebsite: 'https://zbus.top'\navatar: 'https://zbus.top/logo.png'\n";function b(){return(0,m.jsx)("div",{className:"w-96 rounded-[var(--ifm-pre-border-radius)] border border-black border-solid border-opacity-10 text-left text-sm leading-none",children:(0,m.jsx)(o.A,{language:"yaml",title:"\u672c\u7ad9\u4fe1\u606f",className:c.codeBlock,children:j})})}function N(){return(0,m.jsxs)("section",{className:"margin-top--lg margin-bottom--lg text-center",children:[(0,m.jsx)("h1",{children:g}),(0,m.jsx)("p",{children:f}),(0,m.jsx)("a",{className:"button button--primary",href:x,rel:"noreferrer",children:"\ud83d\udd17 \u7533\u8bf7\u53cb\u94fe"})]})}async function C(){try{const e=await(0,h.A)({url:"/api/friends",method:"get"});return JSON.parse(JSON.stringify(e))}catch(e){let{message:n}=e;return{code:500,message:"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u4e86\uff01\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"+n,data:{}}}}function y(){const[e,n]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{C().then((e=>{if(!e&&"0"!=e.code)return;const t=new Map(Object.entries(e.data)),o=[];t.forEach(((e,n)=>{e.forEach((e=>{const n={title:e.title,description:e.description,website:e.siteUrl,avatar:e.logoUrl};o.push(n)}))})),n(o)}))})().then((e=>{}))}),[]);const t={title:"\u53cb\u94fe\u7533\u8bf7\u58f0\u660e",type:"info",icon:"\ud83d\udca1",description:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"\u8bf7\u5728\u7533\u8bf7\u4e4b\u524d\uff0c\u786e\u4fdd\u5df2\u7ecf\u5728\u81ea\u5df1\u7684\u7f51\u7ad9\u4e2d\u6dfb\u52a0\u4e86\u672c\u7ad9\u7684\u53cb\u94fe\u3002"}),(0,m.jsx)(o.A,{language:"yaml",title:"\u7533\u8bf7\u683c\u5f0f",showLineNumbers:!0,children:"title: \u7f51\u7ad9\u540d\u79f0\ndescription: \u7b80\u8981\u63cf\u8ff0\u4e0b\u60a8\u7684\u7f51\u7ad9\nwebsite: \u7f51\u7ad9\u9996\u9875\u5730\u5740\navatar: \u7f51\u7ad9 logo \u5730\u5740"})]})};return(0,m.jsx)("section",{className:"margin-top--lg margin-bottom--lg",children:(0,m.jsxs)("div",{className:c.friendContainer,children:[(0,m.jsx)("ul",{className:c.friendList,children:e.map((e=>(0,m.jsx)(u,{friend:e},e.avatar)))}),(0,m.jsx)(p.A,{articleId:"@site/my-friends/links/apply",noticeCardBeforeSumitForm:t})]})})}function B(){const e=s.useRef(null);return(0,m.jsx)(a.A,{title:g,description:f,children:(0,m.jsxs)(i.P.main,{ref:e,className:"margin-vert--md",children:[(0,m.jsx)(N,{}),(0,m.jsx)(y,{}),(0,m.jsx)(i.P.div,{drag:!0,dragConstraints:e,className:c.dragBox,children:(0,m.jsx)(b,{})})]})})}},29247:(e,n,t)=>{t.d(n,{A:()=>d});t(96540);var o=t(34164),a=t(18630);const s={admonition:"admonition_Gfwi",admonitionHeading:"admonitionHeading_f1Ed",admonitionIcon:"admonitionIcon_kpSf",admonitionContent:"admonitionContent_UjKb"};var i=t(74848);function c(e){let{type:n,className:t,children:c}=e;return(0,i.jsx)("div",{className:(0,o.A)(a.G.common.admonition,a.G.common.admonitionType(n),s.admonition,t),children:c})}function r(e){let{icon:n,title:t}=e;return(0,i.jsxs)("div",{className:s.admonitionHeading,children:[(0,i.jsx)("span",{className:s.admonitionIcon,children:n}),t]})}function l(e){let{children:n}=e;return n?(0,i.jsx)("div",{className:s.admonitionContent,children:n}):null}function d(e){const{type:n,icon:t,title:o,children:a,className:s}=e;return(0,i.jsxs)(c,{type:n,className:s,children:[o||t?(0,i.jsx)(r,{title:o,icon:t}):null,(0,i.jsx)(l,{children:a})]})}},20269:(e,n,t)=>{t.d(n,{A:()=>T});var o=t(96540),a=t(11062),s=t(34164),i=t(84631),c=t(18630),r=t(49292);const l={codeBlockContainer:"codeBlockContainer_APcc"};var d=t(74848);function m(e){let{as:n,...t}=e;const o=(0,i.A)(),a=(0,r.M$)(o);return(0,d.jsx)(n,{...t,style:a,className:(0,s.A)(t.className,l.codeBlockContainer,c.G.common.codeBlock)})}const u={codeBlockContent:"codeBlockContent_m3Ux",codeBlockTitle:"codeBlockTitle_P25_",codeBlock:"codeBlock_qGQc",codeBlockStandalone:"codeBlockStandalone_zC50",codeBlockLines:"codeBlockLines_p187",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_OFgW",codeBlockDisplayNone:"codeBlockDisplayNone_QAcq",buttonGroupDisplayNone:"buttonGroupDisplayNone_rDli",buttonLanguageDisplayNone:"buttonLanguageDisplayNone_BxBZ",codeBlockContentDisplayNone:"codeBlockContentDisplayNone_JlGW",buttonGroup:"buttonGroup_6DOT"};function p(e){let{children:n,className:t}=e;return(0,d.jsx)(m,{as:"pre",tabIndex:0,className:(0,s.A)(u.codeBlockStandalone,"thin-scrollbar",t),children:(0,d.jsx)("code",{className:u.codeBlockLines,children:n})})}var h=t(86957),g=t(16419),f=t(71765);const x={codeLine:"codeLine_iPqp",codeLineNumber:"codeLineNumber_F4P7",codeLineContent:"codeLineContent_pOih"};function j(e){let{line:n,classNames:t,showLineNumbers:o,getLineProps:a,getTokenProps:i}=e;1===n.length&&"\n"===n[0].content&&(n[0].content="");const c=a({line:n,className:(0,s.A)(t,o&&x.codeLine)}),r=n.map(((e,n)=>(0,d.jsx)("span",{...i({token:e})},n)));return(0,d.jsxs)("span",{...c,children:[o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:x.codeLineNumber}),(0,d.jsx)("span",{className:x.codeLineContent,children:r})]}):r,(0,d.jsx)("br",{})]})}var b=t(76316),N=t(23230),C=t(62578),y=t(52030);const B={copyButtonCopied:"copyButtonCopied__QnY",copyButtonIcons:"copyButtonIcons_FhaS",copyButtonIcon:"copyButtonIcon_phi_",copyButtonSuccessIcon:"copyButtonSuccessIcon_FfTR"};function k(e){let{code:n,className:t}=e;const[a,i]=(0,o.useState)(!1),c=(0,o.useRef)(void 0),r=(0,o.useCallback)((()=>{(0,b.A)(n),i(!0),c.current=window.setTimeout((()=>{i(!1)}),1e3)}),[n]);return(0,o.useEffect)((()=>()=>window.clearTimeout(c.current)),[]),(0,d.jsx)("button",{type:"button","aria-label":a?(0,N.T)({id:"theme.CodeBlock.copied",message:"Copied",description:"The copied button label on code blocks"}):(0,N.T)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),title:(0,N.T)({id:"theme.CodeBlock.copy",message:"Copy",description:"The copy button label on code blocks"}),className:(0,s.A)("clean-btn",t,B.copyButton,a&&B.copyButtonCopied),onClick:r,children:(0,d.jsxs)("span",{className:B.copyButtonIcons,"aria-hidden":"true",children:[(0,d.jsx)(C.A,{className:B.copyButtonIcon}),(0,d.jsx)(y.A,{className:B.copyButtonSuccessIcon})]})})}var v=t(58119);const _={wordWrapButtonIcon:"wordWrapButtonIcon_iowe",wordWrapButtonEnabled:"wordWrapButtonEnabled_gY8A"};function w(e){let{className:n,onClick:t,isEnabled:o}=e;const a=(0,N.T)({id:"theme.CodeBlock.wordWrapToggle",message:"Toggle word wrap",description:"The title attribute for toggle word wrapping button of code block lines"});return(0,d.jsx)("button",{type:"button",onClick:t,className:(0,s.A)("clean-btn",n,o&&_.wordWrapButtonEnabled),"aria-label":a,title:a,children:(0,d.jsx)(v.A,{className:_.wordWrapButtonIcon,"aria-hidden":"true"})})}const A={wordWrapButtonIcon:"wordWrapButtonIcon_yqOQ",wordWrapButtonEnabled:"wordWrapButtonEnabled_tAnL"};function I(e){let{className:n,onClick:t,isEnabled:o}=e;const a=(0,N.T)({id:"theme.CodeBlock.wordWrapToggle",message:"\u4ee3\u7801\u6298\u53e0\u5c55\u5f00",description:"The title attribute for toggle word wrapping button of code block lines"});return(0,d.jsx)("button",{type:"button",onClick:t,className:(0,s.A)("clean-btn",n,o&&A.wordWrapButtonEnabled),"aria-label":a,title:a,children:o?"\u6298\u53e0\u4ee3\u7801":"\u5c55\u5f00\u4ee3\u7801"})}function L(e){let{children:n,className:t="",metastring:a,title:c,showLineNumbers:l,language:p}=e;const{prism:{defaultLanguage:x,magicComments:b}}=(0,h.p)(),N=function(e){return e?.toLowerCase()}(p??(0,r.Op)(t)??x),C=(0,i.A)(),y=(0,g.f)(),B=(0,r.wt)(a)||c,{lineClassNames:v,code:_}=(0,r.Li)(n,{metastring:a,language:N,magicComments:b}),A=!0,[L,T]=(0,o.useState)(!0),S=_.split("\n");return o.useEffect((()=>{S.length>20&&T(!1)}),[S.length]),(0,d.jsxs)(m,{as:"div",className:(0,s.A)(t,N&&!t.includes(`language-${N}`)&&`language-${N}`),children:[B&&(0,d.jsx)("div",{className:u.codeBlockTitle,children:B}),(0,d.jsxs)("div",{className:(0,s.A)(u.codeBlockContent,!L&&u.codeBlockContentDisplayNone),children:[(0,d.jsxs)("div",{className:(0,s.A)(u.buttonGroup,u.codeBlockLinesWithNumbering,!L&&u.buttonGroupDisplayNone),children:[(0,d.jsxs)("button",{className:(0,s.A)(u.codeButton,!L&&u.buttonLanguageDisplayNone),children:[" ",N," "]}),(0,d.jsx)(k,{className:u.codeButton,code:_}),(0,d.jsx)(I,{className:u.codeButton,onClick:()=>{T(!L)},isEnabled:L}),(0,d.jsx)(w,{className:u.codeButton,onClick:y.toggle,isEnabled:y.isEnabled})]}),(0,d.jsx)(f.f4,{theme:C,code:_,language:N??"javascript",children:e=>{let{className:n,style:t,tokens:o,getLineProps:a,getTokenProps:i}=e;return(0,d.jsx)("pre",{tabIndex:0,ref:y.codeBlockRef,className:(0,s.A)(n,u.codeBlock,"thin-scrollbar"),style:t,children:(0,d.jsx)("code",{className:(0,s.A)(u.codeBlockLines,u.codeBlockLinesWithNumbering,!L&&u.codeBlockDisplayNone),children:o.map(((e,n)=>(0,d.jsx)(j,{line:e,getLineProps:a,getTokenProps:i,classNames:v[n],showLineNumbers:A},n)))})})}})]})]})}function T(e){let{children:n,...t}=e;const s=(0,a.A)(),i=function(e){return o.Children.toArray(e).some((e=>(0,o.isValidElement)(e)))?e:Array.isArray(e)?e.join(""):e}(n),c="string"==typeof i?L:p;return(0,d.jsx)(c,{...t,children:i},String(s))}},67168:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(94335);const a={apiConfig:{baseUrl:"https://zbus.top",timeout:15e3,headers:{"Content-Type":"application/json;charset=utf-8"}}};o.A.defaults.withCredentials=!0;const s=o.A.create({baseURL:a.apiConfig.baseUrl,timeout:a.apiConfig.timeout,headers:a.apiConfig.headers});const i=()=>{0};s.interceptors.request.use((e=>("get"===e.method&&e.params,e)),(e=>Promise.reject(e))),s.interceptors.response.use((e=>{i();e.data;return e.data}),(e=>{console.error("err"+e),i();let n="\u8bf7\u6c42\u51fa\u73b0\u5f02\u5e38";n=e.response?e.message||n:e.request?"\u8bf7\u6c42\u5df2\u53d1\u51fa\uff0c\u4f46\u6ca1\u6709\u6536\u5230\u54cd\u5e94":e.message||n;const t={code:"-1",message:n,data:{}};return Promise.reject(t)}));const c=s}}]);