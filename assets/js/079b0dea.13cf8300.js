"use strict";(self.webpackChunkmy_docus=self.webpackChunkmy_docus||[]).push([[6095],{93795:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>g});var s=t(74848),i=t(28453);const o={slug:"nginx bu-shu-xiang-mu-chang-yong-ming-ling",title:"nginx \u90e8\u7f72\u9879\u76ee\u5e38\u7528\u547d\u4ee4",authors:{name:"zhoujun134",title:"\u4e0d\u8981\u7b49! \u4e0d\u7ba1\u60f3\u505a\u4ec0\u4e48, \u90fd\u8981\u7acb\u523b\u52a8\u8d77\u6765\u3002",url:"https://github.com/zhoujun134",image_url:"https://img.zbus.top/zbus/logo.jpg"},tags:["\u968f\u7b14"],image:"https://img.zbus.top/zbus/blog202403150754487.webp"},r=void 0,a={id:"nginx/2024-05-13-09-03-16-nginx bu-shu-xiang-mu-chang-yong-ming-ling",title:"nginx \u90e8\u7f72\u9879\u76ee\u5e38\u7528\u547d\u4ee4",description:"\u672c\u6587\u8bb0\u5f55\u4e86\u65e5\u5e38\u4f7f\u7528nginx\u90e8\u7f72\u9879\u76ee\u6240\u9700\u7684\u4e00\u4e9b\u5e38\u7528\u547d\u4ee4\uff0c\u5305\u62ecnginx\u914d\u7f6ehttps\u3001http\u91cd\u5b9a\u5411\u5230https\u3001\u5c06java\u7a0b\u5e8f\u90e8\u7f72\u5230\u540e\u53f0\u8fd0\u884c\u3001nginx\u76f8\u5173\u547d\u4ee4\u548c\u8fdb\u7a0b\u7ba1\u7406\u76f8\u5173\u547d\u4ee4\u3002",source:"@site/docs/07-nginx/2024-05-13-09-03-16-nginx bu-shu-xiang-mu-chang-yong-ming-ling.md",sourceDirName:"07-nginx",slug:"/nginx/nginx bu-shu-xiang-mu-chang-yong-ming-ling",permalink:"/docs/nginx/nginx bu-shu-xiang-mu-chang-yong-ming-ling",draft:!1,unlisted:!1,tags:[{inline:!0,label:"\u968f\u7b14",permalink:"/docs/tags/\u968f\u7b14"}],version:"current",frontMatter:{slug:"nginx bu-shu-xiang-mu-chang-yong-ming-ling",title:"nginx \u90e8\u7f72\u9879\u76ee\u5e38\u7528\u547d\u4ee4",authors:{name:"zhoujun134",title:"\u4e0d\u8981\u7b49! \u4e0d\u7ba1\u60f3\u505a\u4ec0\u4e48, \u90fd\u8981\u7acb\u523b\u52a8\u8d77\u6765\u3002",url:"https://github.com/zhoujun134",image_url:"https://img.zbus.top/zbus/logo.jpg"},tags:["\u968f\u7b14"],image:"https://img.zbus.top/zbus/blog202403150754487.webp"},sidebar:"tutorialSidebar",previous:{title:"nginx",permalink:"/docs/category/nginx"},next:{title:"\u540e\u7aef\u9762\u8bd5\u76f8\u5173\uff08java\uff09",permalink:"/docs/category/\u540e\u7aef\u9762\u8bd5\u76f8\u5173java"}},l={},g=[{value:"nginx \u914d\u7f6e https",id:"nginx-\u914d\u7f6e-https",level:2},{value:"http \u91cd\u5b9a\u5411\u5230 https \u7684\u7aef\u53e3\u4e0b",id:"http-\u91cd\u5b9a\u5411\u5230-https-\u7684\u7aef\u53e3\u4e0b",level:2},{value:"\u5c06 java \u7a0b\u5e8f\u90e8\u7f72\u5230\u540e\u53f0\u8fd0\u884c",id:"\u5c06-java-\u7a0b\u5e8f\u90e8\u7f72\u5230\u540e\u53f0\u8fd0\u884c",level:2},{value:"nginx \u76f8\u5173\u547d\u4ee4",id:"nginx-\u76f8\u5173\u547d\u4ee4",level:2},{value:"\u8fdb\u7a0b\u7ba1\u7406\u76f8\u5173",id:"\u8fdb\u7a0b\u7ba1\u7406\u76f8\u5173",level:2},{value:"\u67e5\u8be2 cpu \uff0c\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5",id:"\u67e5\u8be2-cpu-\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5",level:3}];function u(n){const e={code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"\u672c\u6587\u8bb0\u5f55\u4e86\u65e5\u5e38\u4f7f\u7528nginx\u90e8\u7f72\u9879\u76ee\u6240\u9700\u7684\u4e00\u4e9b\u5e38\u7528\u547d\u4ee4\uff0c\u5305\u62ecnginx\u914d\u7f6ehttps\u3001http\u91cd\u5b9a\u5411\u5230https\u3001\u5c06java\u7a0b\u5e8f\u90e8\u7f72\u5230\u540e\u53f0\u8fd0\u884c\u3001nginx\u76f8\u5173\u547d\u4ee4\u548c\u8fdb\u7a0b\u7ba1\u7406\u76f8\u5173\u547d\u4ee4\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://img.zbus.top/zbus/blog202405130847944.jpg",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"\u672c\u6587\u4e3b\u8981\u8bb0\u5f55\u4e86\u65e5\u5e38\u5bf9\u4e8e nginx \u8fdb\u884c\u90e8\u7f72\u9879\u76ee\u6240\u4f7f\u7528\u5230\u7684\u4e00\u4e9b\u65e5\u5e38\u5e38\u7528\u547d\u4ee4\uff1a"}),"\n",(0,s.jsx)(e.h2,{id:"nginx-\u914d\u7f6e-https",children:"nginx \u914d\u7f6e https"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-nginx",children:"http {\n    ##\n    # SSL Settings\n    ##\n\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE\n    ssl_prefer_server_ciphers on;\n    \n    # \u914d\u7f6e\u81ea\u5df1\u4e0b\u8f7d\u7684\u6570\u5b57\u8bc1\u4e66\n    ssl_certificate  /soft/zbus.top_nginx/zbus.top_bundle.crt;\n    # \u914d\u7f6e\u81ea\u5df1\u4e0b\u8f7d\u7684\u670d\u52a1\u5668\u79c1\u94a5\n    ssl_certificate_key /soft/zbus.top_nginx/zbus.top.key;\n    \n    server {\n            # \u76d1\u542cHTTPS\u9ed8\u8ba4\u7684443\u7aef\u53e3\n            listen 443;\n            # \u914d\u7f6e\u81ea\u5df1\u9879\u76ee\u7684\u57df\u540d\n            server_name zbus.top www.zbus.top;\n            # \u6253\u5f00SSL\u52a0\u5bc6\u4f20\u8f93\n            ssl on;\n            # \u8f93\u5165\u57df\u540d\u540e\uff0c\u9996\u9875\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\n            root html;\n            # \u914d\u7f6e\u9996\u9875\u7684\u6587\u4ef6\u540d\n            index index.html index.htm index.jsp index.ftl;\n            # \u914d\u7f6e\u81ea\u5df1\u4e0b\u8f7d\u7684\u6570\u5b57\u8bc1\u4e66\n            ssl_certificate  /soft/zbus.top_nginx/zbus.top_bundle.crt;\n            # \u914d\u7f6e\u81ea\u5df1\u4e0b\u8f7d\u7684\u670d\u52a1\u5668\u79c1\u94a5\n            ssl_certificate_key /soft/zbus.top_nginx/zbus.top.key;\n            # \u505c\u6b62\u901a\u4fe1\u65f6\uff0c\u52a0\u5bc6\u4f1a\u8bdd\u7684\u6709\u6548\u671f\uff0c\u5728\u8be5\u65f6\u95f4\u6bb5\u5185\u4e0d\u9700\u8981\u91cd\u65b0\u4ea4\u6362\u5bc6\u94a5\n            ssl_session_timeout 5m;\n            # TLS\u63e1\u624b\u65f6\uff0c\u670d\u52a1\u5668\u91c7\u7528\u7684\u5bc6\u7801\u5957\u4ef6\n            ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n            # \u670d\u52a1\u5668\u652f\u6301\u7684TLS\u7248\u672c\n            ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n            # \u5f00\u542f\u7531\u670d\u52a1\u5668\u51b3\u5b9a\u91c7\u7528\u7684\u5bc6\u7801\u5957\u4ef6\n            ssl_prefer_server_ciphers on;\n            ## \u57df\u540d\u8bbf\u95ee\u914d\u7f6e\n            location / {\n                 autoindex on;\n                 autoindex_exact_size off;\n                 autoindex_localtime on;\n                 ## \u8fd9\u91cc\u914d\u7f6e\u5bf9\u5e94\u7684\u524d\u7aef\u6253\u5305\u4e4b\u540e\u7684\u76ee\u5f55\n                 root /home/ubuntu/soft/dist; \n                 try_files $uri $uri/ /index.html;\n                 index index.html index.htm;\n            }\n    \n            location /api/ {\n                 ## \u5047\u8bbe\u524d\u7aef\u4f7f\u7528\u7684\u540e\u7aef api \u5730\u5740\u90e8\u7f72\u5728\u672c\u5730\u7684 8080 \u7aef\u53e3\u4e0b\uff0cpath \u4e3a /api/\n                 proxy_pass http://127.0.0.1:8080/api/;\n                 proxy_set_header Host $host;\n                 proxy_set_header X-Real-IP $remote_addr;\n            }\n    }\n\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"http-\u91cd\u5b9a\u5411\u5230-https-\u7684\u7aef\u53e3\u4e0b",children:"http \u91cd\u5b9a\u5411\u5230 https \u7684\u7aef\u53e3\u4e0b"}),"\n",(0,s.jsx)(e.p,{children:"\u76d1\u542c server \u7684 80 \u7aef\u53e3\uff0c\u5e76\u91cd\u5b9a\u5411\u5230 https \u76ee\u5f55\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"server {\n    listen 80;\n    server_name zbus.top www.zbus.top;\n \n    # \u91cd\u5b9a\u5411\u6240\u6709 HTTP \u8bf7\u6c42\u5230 HTTPS\n    return 301 https://$server_name$request_uri;\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u5c06-java-\u7a0b\u5e8f\u90e8\u7f72\u5230\u540e\u53f0\u8fd0\u884c",children:"\u5c06 java \u7a0b\u5e8f\u90e8\u7f72\u5230\u540e\u53f0\u8fd0\u884c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"nohup java -jar zjBootBlog-0.0.1-SNAPSHOT.jar > main.log 2>&1 &\n"})}),"\n",(0,s.jsx)(e.h2,{id:"nginx-\u76f8\u5173\u547d\u4ee4",children:"nginx \u76f8\u5173\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"## \u542f\u52a8 nginx\nnginx\n## \u91cd\u542f nginx \nnginx -s reload\n## nginx \u7684\u65e5\u5fd7\u76ee\u5f55\n/var/log/nginx\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u8fdb\u7a0b\u7ba1\u7406\u76f8\u5173",children:"\u8fdb\u7a0b\u7ba1\u7406\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"\u67e5\u8be2-cpu-\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5",children:"\u67e5\u8be2 cpu \uff0c\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"## \u67e5\u8be2\u8fdb\u7a0b\u7684\u5185\u5b58\u548c cpu \u4f7f\u7528\u60c5\u51b5\nhtop\n"})})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>a});var s=t(96540);const i={},o=s.createContext(i);function r(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);